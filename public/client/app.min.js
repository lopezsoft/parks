Ext.Loader.setConfig({enabled:!0,paths:{Admin:"app","Admin.view":"app/view","Admin.core":"app/core","Admin.model":"app/model","Admin.store":"app/store"}}),Ext.application({extend:"Ext.app.Application",name:"Admin",requires:["Admin.security.TokenStorage","Admin.core.grid.CustomGrid","Admin.view.Main","Admin.core.button.CustomButton","Admin.core.toolbar.CustomToolbar","Admin.view.config.Configs"],stores:["SalesServicesStore","SalesFootWearStore"],init:function(){var me=this,win=null},mainView:"Admin.view.Main",launch:function name(params){var loadingMask=Ext.get("global-spinner"),token=AuthToken.recoverParams();loadingMask&&(loadingMask.setOpacity(1),loadingMask.fadeOut({remove:!0,duration:1e3,opacity:0})),this.onCreateGrid(token)},onCreateGrid:function(token){token||(window.location.href="/parks")},getWindow:function(cTitle,cWin){var win=new Ext.create(cWin);return null==cTitle||(win.title=cTitle),win},onStore:function(xStore){var cStore="";cStore="ADA.store."+xStore,new Ext.create(cStore)},onController:function(xController){var cController="";cController="ADA.controller."+xController,ADA.getApplication().createController(cController)},onMsgWait:function(){Ext.Msg.wait("Cargando...")},onAler:function(msgAler){Ext.MessageBox.show({title:"S.M.E ALERTA",msg:msgAler,alwaysOnTop:!0,icon:Ext.MessageBox.INFO,buttons:Ext.Msg.OK})},showResult:function(text){Ext.toast({html:text,closable:!1,align:"tr",slideInDuration:400,minWidth:200,frame:!0})},getIframe:function(xUrl,xFormat){var me=this;Ext.require("Admin.core.docs.IframeView"),Ext.onReady(function(){if("pdf"==xFormat){var cHtml='<object><embed  width="100%" height="100%" src="'+xUrl+'"></object>',win;Ext.create("Admin.core.docs.IframeView",{title:"Vista previa del enlace",html:cHtml,width:700,height:550,maximized:!0}).show()}else me.onOpenUrl(xUrl)})},onClose:function(btn,e,eOpts){var me=btn.up("window");Ext.Msg.show({title:"Cerrar sesión",message:"Desea cerrar  la sesión?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(btn){"yes"===btn&&(me&&(me.fireEvent("cancel",me),me.close()),AuthToken.clear())}})}});